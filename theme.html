<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë– ë‚˜ì - ì—¬í–‰ í…Œë§ˆ</title>
  <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Arial', sans-serif; margin: 0; background: #f8f9fa; }
    header { position: sticky; top: 0; z-index: 1000; background: rgba(255,255,255,0.9); backdrop-filter: blur(8px); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 60px; }
    .logo { font-family: 'Gaegu', cursive; font-size: 36px; color: #00aaff; cursor: pointer; transition: transform 0.2s; }
    .logo:hover { transform: scale(1.05); }
    .nav-links { list-style: none; display: flex; gap: 30px; margin: 0; padding: 0; }
    .nav-links li a { text-decoration: none; color: #333; font-weight: bold; font-size: 18px; transition: color 0.2s; }
    .nav-links li a:hover { color: #00aaff; }
    .container { width: 80%; max-width: 1000px; margin: 50px auto; display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
    .theme-card { background: white; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); padding: 20px; text-align: center; cursor: pointer; transition: transform 0.2s, border 0.2s; }
    .theme-card:hover { transform: scale(1.05); }
    .theme-card img { width: 100%; height: 150px; object-fit: cover; border-radius: 10px; margin-bottom: 10px; }
    .theme-card h3 { margin: 0; font-size: 1.2rem; color: #333; }
    .theme-card.selected { border: 3px solid #00aaff; }
    .recommend-btn { display: block; width: 200px; margin: 40px auto; padding: 15px 0; font-size: 18px; font-weight: bold; color: white; background-color: #00aaff; border: none; border-radius: 10px; cursor: pointer; transition: background-color 0.2s, transform 0.2s; }
    .recommend-btn:hover { background-color: #0088cc; transform: scale(1.05); }
    .recommendations { width: 80%; max-width: 1000px; margin: 40px auto; display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    .rec-card { background: white; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center; padding: 15px; }
    .rec-card img { width: 100%; height: 150px; object-fit: cover; border-radius: 10px; }
    .rec-card h4 { margin: 10px 0 0 0; font-size: 1rem; color: #333; }
  </style>
</head>
<body>

<header>
  <nav class="navbar">
    <div class="logo" onclick="location.href='/'">ë– ë‚˜ì</div>
    <ul class="nav-links">
      <li><a href="/">í™ˆ</a></li>
      <li><a href="/theme">í…Œë§ˆ</a></li>
      <li><a href="#region">ì§€ì—­</a></li>
      <li><a href="#flight">í•­ê³µ</a></li>
      <li><a href="#hotel">ìˆ™ì†Œ</a></li>
    </ul>
  </nav>
</header>

<h1 style="text-align:center; margin-top:40px; font-family:'Gaegu', cursive; font-size:48px;">ì—¬í–‰ í…Œë§ˆ ì„ íƒ</h1>

<div class="container">
  <div class="theme-card" data-theme="ê´€ê´‘">
    <img src="https://images.unsplash.com/photo-1519922639192-e73293ca430e?ixlib=rb-4.1.0&auto=format&fit=crop&w=1172&q=80" alt="ê´€ê´‘">
    <h3>ê´€ê´‘</h3>
  </div>
  <div class="theme-card" data-theme="íœ´ì–‘">
    <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400&q=60" alt="íœ´ì–‘">
    <h3>íœ´ì–‘</h3>
  </div>
  <div class="theme-card" data-theme="ë¬¸í™”">
    <img src="https://images.unsplash.com/photo-1543906965-f9520aa2ed8a?auto=format&fit=crop&w=1170&q=80" alt="ë¬¸í™”">
    <h3>ë¬¸í™”</h3>
  </div>
  <div class="theme-card" data-theme="ìŒì‹">
    <img src="https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=400&q=60" alt="ìŒì‹">
    <h3>ìŒì‹</h3>
  </div>
  <div class="theme-card" data-theme="ëª¨í—˜">
    <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=400&q=60" alt="ëª¨í—˜">
    <h3>ëª¨í—˜</h3>
  </div>
  <div class="theme-card" data-theme="ìì—°">
    <img src="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?auto=format&fit=crop&w=1274&q=80" alt="ìì—°">
    <h3>ìì—°</h3>
  </div>
  <div class="theme-card" data-theme="ì‡¼í•‘">
    <img src="https://images.unsplash.com/photo-1481437156560-3205f6a55735?auto=format&fit=crop&w=1195&q=80" alt="ì‡¼í•‘">
    <h3>ì‡¼í•‘</h3>
  </div>
  <div class="theme-card" data-theme="íë§">
    <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=60" alt="íë§">
    <h3>íë§</h3>
  </div>
</div>

<button class="recommend-btn">ì¶”ì²œë°›ê¸°</button>

<div class="recommendations"></div>

<script>
const cards = document.querySelectorAll('.theme-card');
const recommendBtn = document.querySelector('.recommend-btn');
const recommendationsDiv = document.querySelector('.recommendations');
let selectedTheme = null;

// í…Œë§ˆ ì¹´ë“œ ì„ íƒ
cards.forEach(card => {
  card.addEventListener('click', () => {
    cards.forEach(c => c.classList.remove('selected'));
    card.classList.add('selected');
    selectedTheme = card.dataset.theme;
  });
});

// ì¶”ì²œ ë²„íŠ¼ í´ë¦­
recommendBtn.addEventListener('click', async () => {
  if(!selectedTheme){
    alert('ë¨¼ì € í…Œë§ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
    return;
  }

  recommendationsDiv.innerHTML = '<p>ì¶”ì²œ ì—¬í–‰ì§€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>';

  try {
    const res = await fetch("/recommend", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ theme: selectedTheme })
    });

    const data = await res.json();
    recommendationsDiv.innerHTML = '';

    if(!Array.isArray(data) || data.length === 0){
      recommendationsDiv.innerHTML = '<p>ì¶”ì²œ ì—¬í–‰ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤ ğŸ˜¢</p>';
      return;
    }

    data.forEach(place => {
      const card = document.createElement('div');
      card.className = 'rec-card';
      card.innerHTML = `
        <img src="${place.image}" alt="${place.name}">
        <h4>${place.name}</h4>
        <p>${place.description}</p>
      `;
      recommendationsDiv.appendChild(card);
    });

  } catch (err) {
    recommendationsDiv.innerHTML = '<p>ì¶”ì²œ ì—¬í–‰ì§€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨ ğŸ˜¢</p>';
    console.error(err);
  }
});
</script>

</body>
</html>
